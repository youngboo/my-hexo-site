---
title: 一个小问题
date: 2018-10-26 16:46:22
tags: [前端]
categories: [前端]
---
## 一个小问题，列表数量变更，如何让页码始终保持在最后一页
 ### 需求 ：
  列表刷新时，如果是处于第十一或二十一，三十一位的数据被删除，再刷新列表，还是会以之前的页码为基准请求服务器数据，但是服务器上的数据比之前少了一页，就会导致访问到无数据的页码。
### 解决方案：
    1. 判断会导致数据减少的操作，比如明确的删除，移走数据，在前端自行计算请求第几页的数据；
    缺点：多人操作时会有无法预知的操作干扰判断；与业务耦合太过紧密，代码难通用，以后有新的变化还要改代码。
    2. 在刷新列表前，请求列表总数，通过总数再判断应该显示第几页。
    缺点：多了一次请求
    优点：一劳永逸，以后所有类似的问题都可用此解决